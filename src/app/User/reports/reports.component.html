<div class="container" >
  <app-menu></app-menu>
</div>
<div class="container mt-4">

    <h2>Reportes</h2>
    <div class="d-flex justify-content-end mb-3">
      <input
        type="text"
        class="form-control w-25 me-2"
        placeholder="Buscar..."
        [(ngModel)]="searchText"
        (keyup.enter)="onSearch()"
      />
      <button class="btn btn-dark" (click)="crearNuevoReporte()">Generar</button>
    </div>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>C贸digo</th>
          <th>Nombre del reporte</th>
          <th>Fecha de registro</th>
          <th>Fecha de soluci贸n</th>
          <th>Usuario registrador</th>
          <th>Nivel de reporte</th>
 
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let reporte of reportes" [ngClass]="getNivelClass(reporte.Nivel_Reporte)" (click)="selectReporte(reporte)">
          <td>{{ reporte.Id_Reporte }}</td>
          <td>{{ reporte.Descripcion_Reporte }}</td>
          <td>{{ reporte.Fecha_Registro_Usuario | date }}</td>
          <td>{{ reporte.Fecha_Solucion_Reporte | date }}</td>
          <td>{{ reporte.Usuario_Registrador_Reporte }}</td>
          <td>{{ reporte.Nivel_Reporte }}</td>
     
        </tr>
      </tbody>
    </table>

  
  <div class="mt-4" *ngIf="selectedReporte">
    <h3>Detalles del reporte</h3>
    <p><strong>C贸digo:</strong> {{ selectedReporte.Id_Reporte }}</p>
    <p><strong>Nombre:</strong> {{ selectedReporte.Descripcion_Reporte }}</p>
    <p><strong>Fecha de registro:</strong> {{ selectedReporte.Fecha_Registro_Usuario | date }}</p>
    <p><strong>Fecha de soluci贸n:</strong> {{ selectedReporte.Fecha_Solucion_Reporte | date }}</p>
    <p><strong>Usuario registrador:</strong> {{ selectedReporte.Usuario_Registrador_Reporte }}</p>
    <p><strong>Usuario Solucionar:</strong> {{ selectedReporte.Usuario_Solucionador_Reporte }}</p>
    <p><strong>Estado del reporte:</strong> {{ selectedReporte.Estado_Reporte }}</p>
    <p><strong>Nivel de reporte:</strong>
      <span >
        {{ selectedReporte.Nivel_Reporte }}
      </span>
    </p>
    <td>
        <button class="btn btn-danger btn-sm">Eliminar</button>
        <button (click)="modificarReporte()" class="btn btn-light btn-sm">Solucionar</button>
      </td>
  </div>
</div>